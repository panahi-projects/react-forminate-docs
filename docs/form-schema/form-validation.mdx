---
sidebar_position: 3
---
import { Code3, Code4, Code5, Code6, Code7, Code8, Code9, Code10, Code11 } from "@site/src/components/Codes"

# Form Validation

**`React-Forminate`** provides a robust validation system with multiple validation strategies, customizable error messages, and flexible validation triggers. This guide covers all aspects of form validation in the library.

## Validation Basics

### Required Fields

Mark a field as required and customize its error message:

<Code3 
      description="Demonstrates required field validation in React-Forminate with custom error messages for form fields."
      features={[
        "Required field validation",
        "Custom error messages",
        "Form submission handling",
        "Type-safe form schema",
        "Console logging for debugging"
      ]}
      keywords={[
        "React form validation",
        "required fields",
        "custom error messages",
        "form validation demo",
        "React-Forminate validation",
        "form error handling",
        "DynamicForm validation"
      ]}
/>

### Validation Triggers
Control when validation occurs:

```ts
const formData = {
  formId: "myForm",
  options: {
    validateFieldsOnBlur: true // Default (true = validate on blur, false = validate on change)
  },
  fields: [
    // your fields
  ]
}
```

## Validation Types
### Pattern Matching

Validate against regular expressions:

<Code4 
      description="Demonstrates regex pattern validation in React-Forminate with username format enforcement (5-20 alphanumeric chars)."
      features={[
        "Regex pattern validation",
        "Custom validation messages",
        "Pre-filled invalid default value",
        "Real-time validation feedback",
        "Form submission handling"
      ]}
      keywords={[
        "React form regex validation",
        "pattern matching validation",
        "username validation",
        "form input patterns",
        "React-Forminate regex",
        "form validation rules",
        "input format enforcement"
      ]}/>

### Length Validation
For text fields:

<Code5 
      description="Demonstrates min/max length validation for textarea fields in React-Forminate with character count enforcement (10-200 chars)."
      features={[
        "Textarea length validation",
        "Min/max character enforcement",
        "Custom validation messages",
        "Placeholder guidance",
        "Required field validation",
        "Form submission handling"
      ]}
      keywords={[
        "React form length validation",
        "textarea character limit",
        "min/max length validation",
        "form input length restrictions",
        "React-Forminate textarea", 
        "biography field validation",
        "form character counting"
      ]}
/>

### Numeric Validation
For number fields:

<Code6 
      description="Demonstrates numeric range validation (18-100) for age input fields in React-Forminate with min/max value enforcement."
      features={[
        "Numeric range validation",
        "Min/max value enforcement",
        "Age input validation",
        "Custom validation messages",
        "Required field handling",
        "Form submission logging"
      ]}
      keywords={[
        "React number validation",
        "age input validation",
        "min/max numeric validation",
        "form number range",
        "React-Forminate numeric",
        "form input validation",
        "number field restrictions"
      ]}
/>

**OR**

```tsx
validation: [
  {
    min: 18,
    message: "Must be at least 18"
  },
  {
    max: 100,
    message: "Cannot exceed 100"
  },
]
```

### Date Validation
For date fields:

<Code7 
      description="Demonstrates date range validation in React-Forminate with min/max date enforcement (January 1, 2025 - December 31, 2026) for arrival date selection."
      features={[
        "Date range validation",
        "Min/max date enforcement",
        "Arrival date picker",
        "Custom validation messages",
        "Required field handling",
        "Form submission logging"
      ]}
      keywords={[
        "React date validation",
        "date picker validation",
        "min/max date restrictions",
        "form date range",
        "React-Forminate date",
        "arrival date validation",
        "date input restrictions"
      ]}
/>

**OR**

```tsx
validation: [
  {
    minDate: "2025-01-01",
    message: "Must be after January 1, 2025"
  },
  {
    maxDate: "2026-12-31",
    message: "Must be before 2026"
  }
]
```

### Array Validation
For checkbox groups and multi-selects:

<Code8 
      description="Demonstrates checkbox group validation in React-Forminate with minimum (1) and maximum (3) selection requirements for language options."
      features={[
        "Checkbox group validation",
        "Minimum selection requirement (1)",
        "Maximum selection limit (3)",
        "Multi-language options",
        "Custom validation messages",
        "Required field handling"
      ]}
      keywords={[
        "React checkbox validation",
        "multi-select validation",
        "checkbox group limits",
        "form selection requirements",
        "React-Forminate checkboxes",
        "language selector validation",
        "min/max item selection"
      ]}
/>

{/* ```tsx
validation: [
  {
    minItems: 1,
    message: "Select at least one option"
  },
  {
    maxItems: 3,
    message: "Select no more than three options"
  }
]
``` */}

### Custom Validation
Implement complex validation logic:

<Code9 
      description="Demonstrates custom validation logic in React-Forminate with uppercase enforcement for currency code inputs, including a valid default value example."
      features={[
        "Custom validation function",
        "Uppercase enforcement",
        "Currency code validation",
        "Default value demonstration",
        "Real-time validation feedback",
        "Form submission handling"
      ]}
      keywords={[
        "React custom validation",
        "form validation function",
        "uppercase input validation",
        "currency code validation",
        "React-Forminate custom rules",
        "dynamic form validation",
        "custom form logic"
      ]}
/>
{/* ```tsx
validation: [
  {
    custom: (value) => {
      // Your validation logic
      return value !== "forbidden";
    },
    message: "This value is not allowed"
  }
]
``` */}

## Validation Strategies
**`React-Forminate`** uses a strategy pattern for validation. Here are all built-in strategies:

| Strategy    | Applies To     | Description                   |
|-------------|----------------|-------------------------------|
| `pattern`   | Text fields    | Regex pattern matching        |
| `minLength` | Text fields    | Minimum character length      |
| `maxLength` | Text fields    | Maximum character length      |
| `min`       | Number fields  | Minimum numeric value         |
| `max`       | Number fields  | Maximum numeric value         |
| `minDate`   | Date fields    | Earliest allowed date         |
| `maxDate`   | Date fields    | Latest allowed date           |
| `minItems`  | Array fields   | Minimum selected items        |
| `maxItems`  | Array fields   | Maximum selected items        |
| `required`  | All fields     | Field is mandatory            |
| `custom`    | All fields     | Custom validation function    |


## Advanced Validation
### Conditional Validation

Show/hide fields based on other field values, and if the field is not visible, the validation engine automatically does not check that field:
<Code10 
      description="Demonstrates conditional field visibility in React-Forminate, showing spouse name field only when 'married' is selected, with dynamic required validation."
      features={[
        "Conditional field visibility",
        "Radio button dependencies",
        "Dynamic required validation",
        "Form field relationships",
        "Real-time form adaptation",
        "Clean state management"
      ]}
      keywords={[
        "React conditional forms",
        "dynamic form fields",
        "form field dependencies",
        "React-Forminate visibility",
        "conditional validation",
        "form logic",
        "dependent fields"
      ]}
/>

### Custom Validation Strategies
Register custom validation strategies to be able to use them in all forms globally and doesn't need to define custom validation per forms:

<Code11 
      description="Demonstrates custom IBAN validation strategy in React-Forminate, showing how to create and register reusable validation logic for international bank account numbers."
      features={[
        "Custom validation strategy",
        "IBAN format validation",
        "Global strategy registration",
        "Regex pattern validation",
        "Reusable validation logic",
        "Form integration example"
      ]}
      keywords={[
        "React custom validation",
        "IBAN validation",
        "form validation strategies",
        "React-Forminate plugins",
        "bank account validation",
        "regex validation",
        "global form rules"
      ]}
/>

{/* ```tsx
import { validationEngine } from "react-forminate";

class UniqueUsernameStrategy {
  validate(value, rule) {
    return api.checkUsernameAvailability(value)
      .then(isAvailable => ({
        isValid: isAvailable,
        message: "Username already taken"
      }));
  }
}

validationEngine.registerStrategy("uniqueUsername", new UniqueUsernameStrategy());
``` */}

## Error Handling
### Accessing Errors
Errors are available through the `useForm` hook:

```tsx
const { errors } = useForm();
```

### Displaying Errors
Errors are automatically displayed below each field, but you can customize:

```tsx
import { DynamicForm, useForm } from "react-forminate";
import formData from "./formData.json"

const CustomErrorDisplay = () => {
  const { errors } = useForm();
  
  return (
    <>
        <div className="form-errors">
            {Object.entries(errors).map(([fieldId, message]) => (
                <div key={fieldId} className="error-message">
                {message}
                </div>
            ))}
        </div>
        <DynamicForm formData={formData}/>
    </>
  );
};
```

### Manual Validation
Trigger validation manually:

```tsx
const handleSubmit = (e) => {
  e.preventDefault();
  const isValid = validateForm();
  if (isValid) {
    // Submit form
  }
};
```

## Complete Example
```tsx
import { DynamicForm } from "react-forminate";

const UserRegistrationForm = {
  formId: "userRegistration",
  options: {
    validateFieldsOnBlur: true
  },
  fields: [
    {
      fieldId: "email",
      type: "email",
      label: "Email",
      required: true,
      validation: [
        {
          pattern: "^\\S+@\\S+\\.\\S+$",
          message: "Enter a valid email address"
        }
      ]
    },
    {
      fieldId: "password",
      type: "password",
      label: "Password",
      required: true,
      validation: [
        {
          minLength: 8,
          message: "Password must be at least 8 characters"
        },
        {
          pattern: "^(?=.*[A-Z])(?=.*[0-9]).*$",
          message: "Must contain at least one number and uppercase letter"
        }
      ]
    },
    {
      fieldId: "age",
      type: "number",
      label: "Age",
      required: true,
      validation: [
        {
          min: 18,
          message: "You must be 18 or older"
        },
        {
          max: 120,
          message: "Enter a realistic age"
        }
      ]
    },
    {
      fieldId: "subscribe",
      type: "checkbox",
      label: "Subscribe to newsletter",
      validation: [
        {
          custom: (value, { values }) => {
            // Only require if email is provided
            return !values.email || value === true;
          },
          message: "Subscription required for email users"
        }
      ]
    }
  ]
};

const RegistrationPage = () => (
  <DynamicForm 
    formId={UserRegistrationForm.formId}
    formData={UserRegistrationForm}
    onSubmit={(values, isValid) => {
      if (isValid) {
        console.log("Submitting:", values);
      }
    }}
  />
);
```